name: 'Terraform Plan/Apply'

on:
  push:

jobs:
  call-workflow:
    name: 'Terraform Plan/Apply'
    uses: yorkutest/templates/.github/workflows/tf-plan-apply.yml@main
    with:
      storageAccountInfo: ${{ vars.TF_STORAGE_ACCOUNT_INFO }}
      deploymentType: 'Create'
      commandOptions: '-var-file=dev.tfvars'
      storageKey: 'projectName/dev/test_rg.tfstate'
    secrets:
      token: ${{ secrets.GITHUB_TOKEN }}
